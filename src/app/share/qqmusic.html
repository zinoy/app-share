<div class="wrapper wrapper-content animated fadeInRight" ng-controller="ShareController as share">
  <div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-4">
      <h2>{{$state.current.data.pageTitle}}</h2>
      <ol class="breadcrumb">
        <li>
          <a ui-sref="share.index">Home</a>
        </li>
        <li class="active">
            <strong>{{$state.current.data.title}}</strong>
        </li>
      </ol>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <div class="wrapper wrapper-content">
        <div class="ibox" global-alert>
          <!-- include app/share/global.html-->
        </div>
        <div class="ibox">
          <div class="ibox-title">
            <h5>Javascript</h5>
            <!-- <label>
              <input type="checkbox" class="js-switch" ui-switch="{size: 'small'}" ng-model="share.hideComment" />
            </label> -->
            <div ibox-tools control="iboxTools"></div>
          </div>
          <div class="ibox-content">
            
            <p>首先初始化APP内置桥接对象，代码可放置在jQuery/Zepto的ready事件里。</p>
            <ui-codemirror ui-codemirror-opts="share.jsOptions">if (/qqmusic/i.test(navigator.userAgent)) {
    window.g_brige = null;// 桥对象
    
    var QQMusicBridgeReady = function() {
        window.g_brige = WebViewJavascriptBridge;
        window.g_brige.init();// 自定义初始化
        
    };

    if ( typeof WebViewJavascriptBridge == 'object') {
        QQMusicBridgeReady();
    } else {
        document.addEventListener('WebViewJavascriptBridgeReady', function(e) {
            QQMusicBridgeReady();
        });
    }
}</ui-codemirror>
            <p class="m-t-sm">在分享按钮的Click/Tap事件中，触发内置的分享浮层。</p>
            <ui-codemirror ui-codemirror-opts="share.jsOptions">if (window.g_inQQmusic && window.g_brige) {
    //分享数据
    var data = {
        "img_url": __sharDef.img,
        "link": __sharDef.url,
        "desc": __sharDef.desc,
        "title": __sharDef.title
    };
    // alert('页面调用callshare并传送数据 ： '+JSON.stringify(data)+' 给客户端');
    g_brige.callHandler('callshare', data, function(ret) {
        // alert('分享后客户端返回：'+JSON.stringify(ret));
    });
}</ui-codemirror>
          </div>
        </div>
        <div class="ibox">
          <div class="ibox-title">
            <h5>APP判断脚本</h5>
            <div ibox-tools control="iboxTools"></div>
          </div>
          <div class="ibox-content">
            <ui-codemirror ui-codemirror-opts="share.jsOptions">window.g_inQQmusic = /qqmusic/i.test(window.navigator.userAgent);</ui-codemirror>
          </div>
        </div>
        <div class="ibox">
          <div class="ibox-title">
            <h5>案例</h5>
            <div ibox-tools control="iboxTools"></div>
          </div>
          <div class="ibox-content">
            <ul>
              <li>别克威朗GS Bilibili 合体拯救二次元世界 <a href="http://m.buick.com.cn/act/veranogs/bilibili_qqmusic/" target="_blank">http://m.buick.com.cn/act/veranogs/bilibili_qqmusic/</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>